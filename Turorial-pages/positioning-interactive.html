<!DOCTYPE html>
<html lang=""en>
    <head>
        <meta charset="UTF-8"/>
        <title>Position Properties Demo</title>
        <link rel="stylesheet" href="./positioning-styles.css"/>
    </head>
    <body>
        <h1>Element Positioning Properties Demo</h1>
        <div class="button-display">
            <h3>Select a position property value</h3>
            <div class="button-container">
                <button onclick="changePositionProperty('demo-div', 'static')">Static</button>
                <button onclick="changePositionProperty('demo-div', 'relative')">Relative</button>
                <button onclick="changePositionProperty('demo-div', 'absolute')">Absolute</button>
                <button onclick="changePositionProperty('demo-div', 'fixed')">Fixed</button>
            </div>
        </div>
        <div id="demo-parent-box">
            <p id="demo-parent-box-text" >This div position is not set</p>
            <div class="info-line">
                <p>position: </p>
                <p id="position-value">null</p>
            </div>
            <div class="info-line">
                <p>top:</p>
                <input id="top-value" type="number" value="50" style="width: 50px; margin-right: 3px">
                <p>px</p>
            </div>  
            <div class="info-line">
                <p>left: </p>
                <input id="left-value" type="number" value="50" style="width: 50px; margin-right: 3px">
                <p>px</p>

            </div>

            <div id="demo-div">
                <p>DEMO ELEMENT</p>
            </div>

        </div>
        
        <button id="toggle-div-parent-button" onclick="toggleIfPositionPropertySet()">toggle parent div position set</button><br>

        <a style="margin-left: 30px" href="../index.html">Return to Intermediate CSS tutorials</a>

    </body>
    <script>

        let buttonCount = 0;

        function toggleIfPositionPropertySet() {
            const parentDiv = document.getElementById("demo-parent-box");
            const parentDivText = document.getElementById("demo-parent-box-text");

            buttonCount++;

            console.log("Button Pressed!" + buttonCount);

            if (buttonCount % 2 == 1) {
                parentDiv.style.position = "relative";
                parentDivText.textContent = "This div position set to 'relative'"
                console.log("set to rel");

            } else {
                parentDiv.style.removeProperty("position");
                parentDivText.innerText = "This div position is not set"
                console.log("set to null");
            }

        }   

        function changePositionProperty(id, newProperty) {            
            topValue = document.getElementById("top-value").value;
            leftValue = document.getElementById("left-value").value;
            const element = document.getElementById(id);
            const positionValue = document.getElementById("position-value");

            console.log(`Button Pressed with: ${id}, ${newProperty}, ${topValue}, ${leftValue} args passed.`);

            // Convert newProperty to lowercase
            newProperty = newProperty.toLowerCase();

            // Define valid position values
            const validPositions = ["static", "relative", "absolute", "fixed"];

            // Check if newProperty is valid
            if (validPositions.includes(newProperty)) {
                element.style.position = newProperty;
            } else {
                console.warn(`Invalid position value: ${newProperty}. Setting to 'static' as default.`);
                element.style.position = "static"; // Default to static if invalid
            }

            element.style.top = topValue + "px";
            element.style.left = leftValue + "px";

            // Update displayed values in <p> elements
            positionValue.textContent  = newProperty;
        }
    </script>
</html>